{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["// middleware.ts\r\nimport { NextResponse } from 'next/server';\r\nimport type { NextRequest } from 'next/server';\r\nimport { getToken } from 'next-auth/jwt';\r\n\r\nexport const config = {\r\n    matcher: ['/', '/Login', '/Account', '/Visits', '/Booking'],\r\n};\r\n\r\nexport async function middleware(req: NextRequest) {\r\n    const token = await getToken({ req, secret: process.env.NEXTAUTH_SECRET });\r\n\r\n    const isLoggedIn = !!token;\r\n    const currentPath = req.nextUrl.pathname;\r\n\r\n    // Якщо користувач не в сесії\r\n    if (!isLoggedIn) {\r\n        if (currentPath !== '/' && currentPath !== '/Login') {\r\n            return NextResponse.redirect(new URL('/Login', req.url));\r\n        }\r\n    } else {\r\n        // Якщо користувач в сесії\r\n        if (currentPath === '/Login') {\r\n            return NextResponse.redirect(new URL('/Account', req.url));\r\n        }\r\n    }\r\n\r\n    return NextResponse.next();\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,gBAAgB;;;;;AAChB;AAAA;AAEA;;;AAEO,MAAM,SAAS;IAClB,SAAS;QAAC;QAAK;QAAU;QAAY;QAAW;KAAW;AAC/D;AAEO,eAAe,WAAW,GAAgB;IAC7C,MAAM,QAAQ,MAAM,CAAA,GAAA,oJAAA,CAAA,WAAQ,AAAD,EAAE;QAAE;QAAK,QAAQ,QAAQ,GAAG,CAAC,eAAe;IAAC;IAExE,MAAM,aAAa,CAAC,CAAC;IACrB,MAAM,cAAc,IAAI,OAAO,CAAC,QAAQ;IAExC,6BAA6B;IAC7B,IAAI,CAAC,YAAY;QACb,IAAI,gBAAgB,OAAO,gBAAgB,UAAU;YACjD,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,IAAI,GAAG;QAC1D;IACJ,OAAO;QACH,0BAA0B;QAC1B,IAAI,gBAAgB,UAAU;YAC1B,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,YAAY,IAAI,GAAG;QAC5D;IACJ;IAEA,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;AAC5B"}}]
}